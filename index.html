<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>Klocka</title>
    <script type="text/javascript">
      function drawCanvas() {
        var ctx = document.getElementById('canvas').getContext('2d');

        var now = new Date();
        ctx.save();
        ctx.clearRect(0, 0, 150, 150);

        ctx.lineWidth = 2;
        ctx.translate(75, 75);
        for (var i = 0; i < 12; i++) { // Hours
          ctx.beginPath();
          ctx.rotate((Math.PI / 6));
          ctx.moveTo(45, 0);
          ctx.lineTo(50, 0);
          ctx.stroke();
        }
        ctx.restore();

        ctx.save();
        ctx.translate(75, 75);
        ctx.lineWidth = 1;
        for (var i = 0; i < 60; i++) { // Minutes
          ctx.beginPath();
          ctx.rotate((Math.PI / 30));
          ctx.moveTo(47, 0);
          ctx.lineTo(50, 0);
          ctx.stroke();
        }

        ctx.restore();
        ctx.save();
        ctx.beginPath();
        ctx.translate(75, 75);

        var sec = now.getSeconds();
        var min = now.getMinutes();
        var hrs = now.getHours();

        if (hrs >= 12) 
        {
          hrs = hrs - 12;
        }        

        
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.arc(0, 0, 50, 0, Math.PI * 2, true); 

        ctx.rotate((Math.PI / 6) * (hrs + (min / 60) + (sec / 3600)));
        console.log((hrs + (min / 60) + (sec / 3600)));
        ctx.moveTo(0,0);
        ctx.lineTo(0, -25); // Hour hand
        ctx.stroke();

        ctx.restore();
        ctx.save();
        ctx.translate(75, 75);
        
        ctx.rotate((Math.PI / 30) * (min + (sec / 60)));
        ctx.moveTo(0,0);
        ctx.lineTo(0, -35); // Minute hand
        ctx.stroke();

        ctx.restore();
        ctx.save();
        ctx.translate(75, 75);

        ctx.rotate((Math.PI / 30) * sec);
        ctx.moveTo(0,0);
        ctx.lineTo(0, -40); // Second hand
        ctx.stroke();

        ctx.restore();
        ctx.save();
     
        window.requestAnimationFrame(drawCanvas, 1);

        
      }  

      function drawSVG() {

        var now = new Date();

        var sec = now.getSeconds();
        var min = now.getMinutes();
        var hrs = now.getHours();

        var hrsHand = document.getElementById('hour');
        var minHand = document.getElementById('minute');
        var secHand = document.getElementById('second');

        if (hrs >= 12)
        {
          hrs = hrs - 12;
        }

        // console.log((360 / 12) * (hrs + (min / 60) + (sec / 3600)));
        hrsHand.style.transform = "rotate(" + ((Math.PI / 6) * (hrs + (min / 60) + (sec / 3600))) + "deg)";
        minHand.style.transform = "rotate(" + ((360 / 60 + 360 / 3600) * min) + "deg)";
        secHand.style.transform = "rotate(" + ((360 / 60) * sec) + "deg)";

        let root = document.documentElement;

        root.style.setProperty('--second-start', ((360 / 60) * sec) + "deg");
        root.style.setProperty('--second-end', (((360 / 60) * sec) + 360) + "deg");
        root.style.setProperty('--minute-start', ((360 / 60 + 360 / 3600) * sec) + "deg");
        root.style.setProperty('--minute-end', (((360 / 60 + 360 / 3600) * sec) + 360) + "deg");
        root.style.setProperty('--hour-start', ((360 / 12 + 360 / 720 + 360 / 43200) * sec) + "deg");
        root.style.setProperty('--hour-end', (((360 / 12 + 360 / 720 + 360 / 43200) * sec) + 360) + "deg");
      }


      
    </script>
    <link rel="stylesheet" href="style.css">
  </head>
  <body onload="drawCanvas(), drawSVG();">
    <div class="bigContainer">
      <canvas id="canvas" width="150" height="150"></canvas>

      <div class="container">
        <svg id="Klocka" data-name="Lager 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" height="100px" width="100px">
          <defs>
            <style>
              .cls-1{fill:#fff;}.cls-2{stroke:#000;stroke-miterlimit:10;}
            </style>
          </defs>
          
          <title>Klocka2</title>
          <circle class="cls-1" cx="72.07" cy="71.89" r="49.5" transform="translate(-44.1 11.17) rotate(-22.5)"/>
          <path d="M72.07,22.89a49,49,0,1,1-49,49,49.05,49.05,0,0,1,49-49m0-1a50,50,0,1,0,50,50,50,50,0,0,0-50-50Z" transform="translate(-22.07 -21.89)"/>
          <rect x="0.93" y="49.61" width="5" height="1"/>
          <rect x="29.3" y="94.77" width="5" height="1" transform="translate(-65.45 6.77) rotate(-30)"/>
          <rect x="46.38" y="111.78" width="5" height="1" transform="translate(-94.87 76.59) rotate(-60)"/>
          <rect x="69.69" y="117.96" width="5" height="1" transform="translate(-68.35 168.76) rotate(-90)"/>
          <rect x="92.96" y="111.67" width="5" height="1" transform="translate(23.98 229.03) rotate(-120)"/>
          <rect x="109.97" y="94.58" width="5" height="1" transform="translate(140.25 211.76) rotate(-150)"/>
          <rect x="116.15" y="71.28" width="5" height="1" transform="translate(215.22 121.66) rotate(-180)"/>
          <rect x="109.85" y="48" width="5" height="1" transform="translate(211.83 12.44) rotate(150)"/>
          <rect x="92.77" y="31" width="5" height="1" transform="translate(148.1 -57.14) rotate(120)"/>
          <rect x="69.46" y="24.81" width="5" height="1" transform="translate(75.2 -68.54) rotate(90)"/>
          <rect x="46.19" y="31.11" width="5" height="1" transform="translate(29.64 -48.25) rotate(60)"/>
          <rect x="29.18" y="48.2" width="5" height="1" transform="matrix(0.87, 0.5, -0.5, 0.87, 6.52, -31.21)"/>
          <rect id="hour" class="cls-2" x="49.93" y="25.11" width="0.25" height="30"/>
          <rect id="minute" class="cls-2" x="49.93" y="15.11" width="0.25" height="40"/>
          <rect id="second" class="cls-2" x="49.93" y="10.11" width="0.25" height="45"/>
        </svg>
      </div>
    </div>
  </body>
</html>